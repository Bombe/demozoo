<!DOCTYPE HTML>
<html>
	<head>
		<title>compo result test</title>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
		
		<script type="text/javascript" src="/static/js/jquery.ui.core.js"></script>{# TODO: minify #}
		<script type="text/javascript" src="/static/js/jquery.ui.widget.js"></script>{# TODO: minify #}
		<script type="text/javascript" src="/static/js/jquery.ui.mouse.js"></script>{# TODO: minify #}
		<script type="text/javascript" src="/static/js/jquery.ui.sortable.js"></script>{# TODO: minify #}
		<!--
			At any time, we're in a specified 'edit mode', which determines
			how we respond to events. Known modes include:
			inactive (not a real mode): focus is not on the table, event handlers are unbound?
			null: not editing a particular cell. Backspace deletes a row (prompting if it's been committed)
			capturedtext: editing a text box; cursors move within the field
			uncapturedtext: editing a text box; cursors exit the field
			byline: tabs and cursors behave normally; enter exits (UNLESS there are errors!)
			capturedselect: up/down cursors affect the selection; enter and left/right exits
			uncapturedselect: cursors exit the field (so changing the field can only be done by typing)
			
			(uncaptured* is entered by typing text while in 'moving' mode;
			enter or double-click will capture)
			
			Sometimes, the response to an event may be
			"switch to mode X and process the event in that mode" -
			e.g. cursor movement during uncapturedtext
		-->
		<style>
			html {
				font-family: Helvetica, Arial, sans-serif;
				font-size: 10pt;
				color: black;
			}
			
			ul.results_table {
				list-style-type: none;
				margin: 0;
				padding: 0;
			}
			ul:focus.results_table {
				outline: none;
			}
			ul.results_table > li {
				margin-bottom: 4px;
				padding-left: 24px;
				position: relative;
			}
			
			ul.results_table > li > a.insert {
				position: absolute;
				top: -10px;
				left: 0px;
				width: 16px;
				height: 16px;
				background-image: url(/static/images/icons/arrow_right.png);
				text-indent: -5000px;
			}
			
			ul.results_table ul.fields {
				list-style-type: none;
				margin: 0;
				padding: 0;
			}
			ul.results_table ul.fields > li {
				float: left;
				border-right: 1px solid #888;
				border-bottom: 1px solid #888;
				min-height: 20px;
			}
			
			ul.results_table ul.fields > li > .show {
				margin-top: 2px;
				margin-bottom: 2px;
				margin-left: 2px;
				margin-right: 2px;
				padding-left: 2px;
				padding-right: 2px;
				min-height: 16px;
			}
			ul.results_table.focused ul.fields > li.cursor > .show {
				outline: 2px solid blue;
			}
			ul.results_table ul.fields > li > .edit {
				padding-left: 2px;
				padding-right: 8px;
			}
			
			ul.results_table li.results_row ul.fields > li {
				border-left: 1px solid #eee;
				background-color: #ddd;
				cursor: default;
			}
			
			ul.results_table li.results_header ul.fields > li {
				border-left: 1px solid #bbb;
				background-color: #bbc;
			}
			
			ul.results_table ul.fields > li.placing_field {
				width: 60px;
				text-align: right;
				margin-right: 4px;
			}
			ul.results_table ul.fields > li.placing_field input[type=text] {
				text-align: right;
			}
			
			ul.results_table ul.fields > li.title_field {
				width: 250px;
			}
			ul.results_table ul.fields > li.by_field {
				width: 250px;
			}
			ul.results_table ul.fields > li.platform_field {
				width: 150px;
			}
			ul.results_table ul.fields > li.type_field {
				width: 100px;
			}
			ul.results_table ul.fields > li.score_field {
				width: 60px;
				text-align: right;
				margin-left: 4px;
			}
			ul.results_table ul.fields > li.score_field input[type=text] {
				text-align: right;
			}
			
			ul.results_table ul.fields > li input[type=text] {
				width: 100%;
			}
			ul.results_table ul.fields > li select {
				width: 100%;
			}
			.results_table_insert input {
				margin-left: 24px;
			}
			.results_table_insert {
				padding-bottom: 20px;
			}
		</style>
		<script src="/static/js/results_table.js"></script>
		<script>
			$(function() {
				$('ul.results_table').resultsTable();
			});
		</script>
	</head>
	<body>
		<div class="field" style="margin-bottom: 20px;">
			<label for="competition_name">Competition name:</label>
			<input id="competition_name" type="text" value="Oldskool Demo" />
		</div>
		
		<ul class="results_table">
			<li class="results_header">
				<ul class="fields">
					<li class="placing_field"><div class="show">Placing</div></li>
					<li class="title_field"><div class="show">Title</div></li>
					<li class="by_field"><div class="show">By</div></li>
					<li class="platform_field"><div class="show">Platform</div></li>
					<li class="type_field"><div class="show">Type</div></li>
					<li class="score_field"><div class="show">Score</div></li>
				</ul>
				<div style="clear: both;"></div>
			</li>
			
			<li class="results_row">
				<ul class="fields">
					<li class="placing_field">
						<div class="show">1</div>
						<div class="edit"><input type="text" value="1" /></div>
					</li>
					<li class="title_field">
						<div class="show">Pondlife</div>
						<div class="edit"><input type="text" value="Pondlife" /></div>
					</li>
					<li class="by_field">
						<div class="show"><strong>Hooy-Program</strong> + <strong>Raww Arse</strong></div>
						<div class="edit"><input type="text" value="Hooy-Program + Raww Arse" /></div>
					</li>
					<li class="platform_field">
						<div class="show">Spectrum</div>
						<div class="edit"><select><option selected="selected">Spectrum</option><option>Commodore 64</option></select></div>
					</li>
					<li class="type_field">
						<div class="show">Demo</div>
						<div class="edit"><select><option selected="selected">Demo</option><option>Intro</option></select></div>
					</li>
					<li class="score_field">
						<div class="show">100</div>
						<div class="edit"><input type="text" value="100" /></div>
					</li>
				</ul>
				<div style="clear: both;"></div>
			</li>
			<li class="results_row">
				<ul class="fields">
					<li class="placing_field">
						<div class="show">2</div>
						<div class="edit"><input type="text" value="2" /></div>
					</li>
					<li class="title_field">
						<div class="show">Quattro Formaggio</div>
						<div class="edit"><input type="text" value="Quattro Formaggio" /></div>
					</li>
					<li class="by_field">
						<div class="show"><strong>Gasman</strong> / <strong>Raww Arse</strong></div>
						<div class="edit"><input type="text" value="Gasman / Raww Arse" /></div>
					</li>
					<li class="platform_field">
						<div class="show">Spectrum</div>
						<div class="edit"><select><option selected="selected">Spectrum</option><option>Commodore 64</option></select></div>
					<li class="type_field">
						<div class="show">1K intro</div>
						<div class="edit"><select><option>Demo</option><option selected="selected">Intro</option></select></div>
					</li>
					<li class="score_field">
						<div class="show">90</div>
						<div class="edit"><input type="text" value="90" /></div>
					</li>
				</ul>
				<div style="clear: both;"></div>
			</li>
		</ul>
		<input type="button" value="Gratuitous extra button to test tab order" />
	</body>
</html>
